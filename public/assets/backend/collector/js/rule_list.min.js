function recv_notice_collector(e){var t=e.progress?e.progress.percent.toFixed(2)*1:0;if(e.status>0){console.info("["+t+"/100] "+e.content)}else{console.error("["+t+"/100] "+e.content);App.message({title:App.i18n.SYS_INFO,text:e.content,time:5e3,sticky:false,class_name:"error"})}if(!e.progress)return;var s=e.id;var r="collect-p-"+s;var o=$("#"+r);if(o.length<1)return;var c=o.next(".tr-progressbar");if(c.length<1){var n=$("#tr-progressbar").html();$("#"+r).after(n);c=$("#"+r).next(".tr-progressbar")}var l=c.children("td").children(".progress").children(".progress-bar");l.css("width",t+"%").attr("aria-valuenow",t);c.find(".progress-description").text(" ["+t+"%] "+e.content);if(t>=100&&e.progress.complete){$("#collect-stop-"+s).addClass("hidden");$("#collect-start-"+s).removeClass("hidden");App.message({title:App.i18n.SYS_INFO,text:e.content,time:5e3,sticky:false,class_name:"success"})}}function collecting(e,t){var s=$(e).data("id");if(t=="start"){$(e).addClass("hidden");$("#collect-stop-"+s).removeClass("hidden")}$.post(BACKEND_URL+"/collector/rule_collect",{id:s,op:t,clientID:App.clientID["notify"]},function(e){if(e.Code<=0){t="stop"}if(t=="stop"){$("#collect-stop-"+s).addClass("hidden");$("#collect-start-"+s).removeClass("hidden")}App.message({title:App.i18n.SYS_INFO,text:e.Info,time:5e3,sticky:false,class_name:e.Code==1?"success":"error"})},"json")}